{"version":3,"file":"index.umd.js","sources":["../src/validation/regex.ts","../src/validation/schemas.ts","../src/routes/account/create.ts"],"sourcesContent":["export namespace Regex {\n\t// Fiscal codes\n\texport const vat = /^[0-9]{11}$/;\n\texport const sdi = /^([0-9]|[A-Z]){6,7}$/;\n\texport const cf =\n\t\t/^(?:[A-Z][AEIOU][AEIOUX]|[AEIOU]X{2}|[B-DF-HJ-NP-TV-Z]{2}[A-Z]){2}(?:[\\dLMNP-V]{2}(?:[A-EHLMPR-T](?:[04LQ][1-9MNP-V]|[15MR][\\dLMNP-V]|[26NS][0-8LMNP-U])|[DHPS][37PT][0L]|[ACELMRT][37PT][01LM]|[AC-EHLMPR-T][26NS][9V])|(?:[02468LNQSU][048LQU]|[13579MPRTV][26NS])B[26NS][9V])(?:[A-MZ][1-9MNP-V][\\dLMNP-V]{2}|[A-M][0L](?:[1-9MNP-V][\\dLMNP-V]|[0L][1-9MNP-V]))[A-Z]$/;\n\n\t// Location\n\texport const provincia = /^[A-Z]{2}$/;\n\texport const cap = /^[0-9]{5}$/;\n\n\t// Contacts\n\texport const pec = /^(.*)@(?:\\w*\\.)*pec(?:\\.\\w+)+$/;\n\texport const phone = /^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]?\\d{3}[\\s.-]?\\d{4}$/;\n\texport const url =\n\t\t/^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)?[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$/;\n}\n","import * as yup from \"yup\";\nimport { Regex as re } from \"./regex\";\n\nexport namespace Schemas {\n\t/**\n\t * Basic schemas\n\t */\n\n\texport const url = yup.string().lowercase().matches(re.url);\n\n\texport const cf = yup.string().uppercase().matches(re.cf);\n\texport const vat = yup.string().matches(re.vat);\n\texport const sdi = yup.string().uppercase().matches(re.sdi);\n\n\texport const phone = yup.string().matches(re.phone);\n\texport const email = yup.string().email();\n\texport const pec = email.matches(re.pec);\n\n\texport const provincia = yup.string().uppercase().matches(re.provincia);\n\texport const cap = yup.string().matches(re.cap);\n\n\t/**\n\t * Yup dynamic checks\n\t */\n\n\texport function thenReq(value: boolean | string) {\n\t\treturn {\n\t\t\tis: value,\n\t\t\tthen: (schema: yup.AnySchema) => schema.required(),\n\t\t\totherwise: (schema: yup.AnySchema) => schema.nullable().optional(),\n\t\t};\n\t}\n\n\texport function thenUrlReq(value: boolean | string) {\n\t\treturn {\n\t\t\tis: value,\n\t\t\tthen: (schema: yup.AnySchema) => url.required(),\n\t\t\totherwise: (schema: yup.AnySchema) => schema.nullable().optional(),\n\t\t};\n\t}\n\n\texport function thenNull(value: boolean | string) {\n\t\treturn {\n\t\t\tis: value,\n\t\t\tthen: (schema: yup.AnySchema) => schema.nullable().optional(),\n\t\t\totherwise: (schema: yup.AnySchema) => schema.required(),\n\t\t};\n\t}\n\n\texport const nullOrReq = {\n\t\tis: (v: string | boolean | number) => v == true,\n\t\tthen: (s: yup.AnySchema) => s.nullable(),\n\t\totherwise: (s: yup.AnySchema) => s.required(),\n\t};\n}\n","import * as yup from \"yup\";\nimport { Schemas } from \"../../validation\";\n\nexport namespace Create {\n\texport interface Request {\n\t\tname: string;\n\t\tsurname: string;\n\t\temail: string;\n\t\tpassword: string;\n\t}\n\n\texport const values: Request = {\n\t\tname: \"\",\n\t\tsurname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t};\n\n\texport const schema = yup.object({\n\t\tname: yup.string().required(),\n\t\tsurname: yup.string().required(),\n\t\temail: Schemas.email.required(),\n\t\tpassword: yup.string().required(),\n\t});\n\n\texport interface Response {}\n}\n"],"names":["Regex","vat","sdi","cf","provincia","cap","pec","phone","url","Schemas","yup","string","lowercase","matches","re","uppercase","email","thenReq","value","is","then","schema","required","otherwise","nullable","optional","thenUrlReq","thenNull","nullOrReq","v","s","Create","values","name","surname","password","object"],"mappings":"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"}